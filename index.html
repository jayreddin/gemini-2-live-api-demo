<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Live</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Top Bar -->
        <header class="top-bar">
            <button id="disconnectBtn" class="icon-btn" aria-label="Disconnect">ğŸ”Œ</button> <!-- Placeholder icon, replace with actual SVG/icon font later -->
            <h1 class="app-title">Gemini Live</h1> <!-- Added title -->
            <div class="top-right-controls">
                 <div class="reply-mode-switch">
                     <label for="replyModeToggle" class="visually-hidden">Reply Mode: Text or Audio</label>
                     <span class="toggle-label toggle-label-text" aria-hidden="true">Text</span>
                     <input type="checkbox" id="replyModeToggle" class="reply-mode-toggle" role="switch" aria-checked="false">
                     <span class="toggle-switch"></span>
                     <span class="toggle-label toggle-label-audio" aria-hidden="true">Audio</span>
                 </div>
                <button id="settingsBtn" class="icon-btn" aria-label="Settings">âš™ï¸</button>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="main-content">
            <div id="chatHistory" class="chat-history" aria-live="polite" aria-relevant="additions" aria-atomic="false"></div>
            <canvas id="visualizer" class="visualizer" aria-hidden="true"></canvas>
        </main>

        <!-- Video Popups -->
        <div id="cameraPopup" class="video-popup draggable resizable">
            <div class="popup-header">Camera Preview <button class="popup-close-btn" aria-label="Close Camera Preview">&times;</button></div>            <div class="popup-content">
                <video id="cameraPopupVideo" autoplay muted></video>
                <button id="switchCameraBtn" class="icon-btn switch-camera-btn" aria-label="Switch Camera">ğŸ”„</button>
            </div>
        </div>
        <div id="screenPopup" class="video-popup draggable resizable">
             <div class="popup-header">Screen Preview <button class="popup-close-btn" aria-label="Close Screen Preview">&times;</button></div>             <div class="popup-content">
                 <video id="screenPopupVideo" autoplay muted></video>
             </div>
        </div>

        <!-- Input Area -->
        <footer class="input-area">
             <!-- Banner Row -->
             <div class="media-controls-banner">
                 <button id="cameraBtn" class="icon-btn media-btn" aria-label="Toggle Camera" aria-pressed="false">ğŸ“·</button>
                 <button id="screenBtn" class="icon-btn media-btn" aria-label="Toggle Screen Share" aria-pressed="false">ğŸ–¥ï¸</button>
                 <button id="micBtn" class="icon-btn media-btn" aria-label="Toggle Microphone" aria-pressed="false">ğŸ¤</button>
                 <!-- Settings button removed from here, kept in top-bar -->
             </div>
             <!-- Text Input -->
            <div class="text-input-container">
                <label for="messageInput" class="visually-hidden">Chat Message Input</label>
                <input type="text" id="messageInput" placeholder="Type your message..." class="text-input">
                <button id="sendBtn" class="send-btn" aria-label="Send Message">â¤</button>
            </div>
        </footer>

        <!-- Hidden Connect Button (for initial state) -->
        <button id="connectBtn" class="connect-btn">Connect</button>
    </div>
    <script type="module" src="js/script.js"></script>
</body>
</html>
